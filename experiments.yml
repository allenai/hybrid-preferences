budget: ai2/oe-adapt
description: Convert model to pytorch and launch a rewardbench eval job
tasks:
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__063633638a7243d593cfa2f8ca829335__SWAPS_4664--cd9b1b038dda4590a698aa6c2f208aa1/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-0
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__26d1908601bc454494e396cf32d677c0__SWAPS_7174--7b2acfb0ea794429b0d671466d982399/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-1
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__4abcafa246ec472d855cd4d91af6c6cc__SWAPS_745--d788a36d4d9042dba9373ab7a812f19e/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-2
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__6c0b5a9d33634e8ea6bc1603f23daa71__SWAPS_317--82efadc75eeb4acba15e130d2894e92e/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-3
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__852931a431e342ff95fdace470e9674d__SWAPS_2654--ccd667aaf1f94daaa18e4e70abdff7ce/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-4
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__a72edaaa65b04491a33ebe7c90a34645__SWAPS_2342--3909479f3fc4420c88ed0367abe5fa75/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-5
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__a7db1f3707604461b16ec717843e8002__SWAPS_8781--da26dd156b38464690e6199f94f3cc3a/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-6
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__c299e38e8b4242dd9cdaf476ebba1bc9__SWAPS_6519--748414efd3514750ae9dc5af85f5334e/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-7
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__c561a1e0145b42658d816c4f0a2b25d8__SWAPS_9011--a69b2b8462ee4ed699c2bc5c19ff307d/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-8
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__d12f5e003fc64e9a85e546ef0b4f0ef0__SWAPS_3973--185f436bab584dcd92d0053ce6c5fd62/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-9
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__d544eff0f867472e872727e567ae9557__SWAPS_8309--a7668a98db4b494a965695615b34e990/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-10
  resources:
    gpuCount: 1
  result:
    path: /output
- arguments:
  - --gcs_bucket
  - ljm-dev
  - --prefix
  - multipref-counts
  - --batch_size
  - 1
  - --is_reward_model
  - --gcs_dir_path
  - human-preferences/rm_checkpoints/multipref/tulu2_13b_rm_human_datamodel_counts_7000_ID__e40b1de7d23c452187d02f073cbb4b9b__SWAPS_3097--a03451b06c0e4c6e982bc82ba12c00ef/streaming_params_436
  command:
  - python
  - convert_to_hf.py
  constraints:
    cluster:
    - ai2/allennlp-cirrascale
    - ai2/jupiter-cirrascale-2
  context:
    preemptible: true
    priority: normal
  envVars:
  - name: OPENAI_API_KEY
    secret: OPENAI_API_KEY
  - name: GOOGLE_SERVICE_ACCOUNT
    secret: GOOGLE_SERVICE_ACCOUNT
  - name: BEAKER_TOKEN
    secret: BEAKER_TOKEN
  - name: TOKENIZERS_PARALLELISM
    value: 'false'
  hostNetworking: false
  image:
    beaker: ljm/easylm-convert
  leaderSelection: false
  name: convert-and-run-evals-11
  resources:
    gpuCount: 1
  result:
    path: /output
version: v2
